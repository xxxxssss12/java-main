<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>模具总表信息</title>
    <link href="tools/ligerUI/ligerUI/skins/Aqua/css/ligerui-all.css" rel="stylesheet" type="text/css" />
    <link href="tools/ligerUI/ligerUI/skins/ligerui-icons.css" rel="stylesheet" type="text/css" />
    <script src="js/jquery-3.1.1.min.js"></script>
    <script src="tools/ligerUI/ligerUI/js/ligerui.all.min.js"></script>
    <script src="js/common.js"></script>
    <style type="text/css">
        .font-yahei {
            font-family: "Microsoft YaHei UI";
        }
    </style>
</head>
<body>
<div id="form1" class="liger-form">
    <div class="fields">
        <input data-type="text" data-label="标题" data-name="q_modelNo" />
    </div>
</div>
<button type="button" id="query" class="l-button l-button-submit">查询</button>
<div id="modelAllGrid"></div>
    <script>
        $(function() {
            var modelAllGrid = $("#modelAllGrid").ligerGrid({
                columns:[
                    {type:'lable',name:"modelNo", display:"编号"},
                    {type:'lable',name:"name", display:"名字"},
                    {type:'lable', name:"modelTypeName", display:"类型"},
                    {type:'lable', name:"storeLocation", display:"存放位置"},
                    {type:'lable', name:"lingjiancaizhi", display:"零件材质"},
                    {type:'lable', name:"createTime", display:"创建时间",
                        render:function(row) {
                            if (row.createTime) {
                                return row.createTime.substr(0, 10);
                            } else {
                                return "";
                            }
                        }
                    },
                    {type:'lable', name:"createLocation", display:"创建地点"},
                    {type:'lable', name:"remark", display:"备注"},
                    {type:'lable', name:"detail", display:"查看明细"}
                ],
                toolbar:{
                    items:[
                        {text: '新增', click: void(0), icon: 'add' },
                        {line: true },
                        {text: '保存', click: void(0), icon: 'edit' },
                        {line: true },
                    ]
                },
                url:baseUrl + "modelAll/getByPage",
                enabledEdit: true,clickToEdit:true, isScroll: false,
                width: '100%'
            })
            $("#query").click(function() {
                modelAllGrid.set({url:baseUrl + "modelAll/getByPage?modelNo=" + $("input[ligeruiid=q_modelNo]").val()});
                modelAllGrid.changePage('first');
            })
        });
    </script>
</body>
</html>