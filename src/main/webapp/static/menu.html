<!DOCTYPE html>
<html lang="en">
<head>
    <title></title>
    <style type="text/css">
    </style>
    <script src="tools/ligerUI/ligerUI/js/plugins/ligerTree.js" type="text/javascript"></script>
    <script src="tools/ligerUI/ligerUI/js/plugins/ligerAccordion.js" type="text/javascript"></script>
    <script src="js/common.js" type="text/javascript"></script>
    <script type="text/javascript">
        $(function ()
        {
            $.get(baseUrl + "user/getCurrentUserMenu",null,menuCallback,"json");
        });


        function menuCallback(ri) {
            var menuStr = "";
            if (ri.code == "1")
            {
                for(var i=0;i<ri.data.length;i++)
                {
                    menuStr += " <div title='"+ri.data[i].name+ "' style='padding:10px'><ul>";
                    if (ri.data[i].childMenu && ri.data[i].childMenu.length > 0) {
                        for(var j=0;j<ri.data[i].childMenu.length;j++)
                        {
                            menuStr += "<li url='"+ri.data[i].childMenu[j].url+"'>"+ri.data[i].childMenu[j].name+"</li>";
                        }
                    }
                    menuStr += "</ul></div>";
                }
                $("#accordion").append(menuStr);
                $("#accordion").ligerAccordion();
                $("#accordion li").click(function(){
                    var url = $(this).attr("url");
                    var title=$(this).text();
                    if((typeof url)!="undefined"){
                        parent.f_addTab(title,title,baseUrl + url);
                        // $("#mainContainerIFrame").attr("src",url);
                    }
                });
            }
        }

    </script>
    <style type="text/css">
        body{ padding:20px; margin:0;}
        #accordion{ width:100%;height:100%;overflow:auto;}
        #accordion li{cursor: pointer;}
    </style>
</head>
<body style="padding:10px">
<div id="accordion">

</div>
</body>
</html>